{
    "info": {
        "contact": {
            "email": "Aadil.Latif@nrel.gov",
            "name": "Aadil Latif",
            "url": "https://www.nrel.gov/"
        },
        "description": "The API enables creating PyDSS instances, running simulations and creation of new projects.",
        "title": "PyDSS RESTful API documentation",
        "version": "1.0"
    },
    "openapi": "3.0.0",
    "paths": {
        "/cosims/federates/pydss": {
            "delete": {
                "parameters": [
                    {
                        "explode": false,
                        "in": "path",
                        "name": "uuid",
                        "required": true,
                        "schema": {
                            "example": "96c21e00-cd3c-4943-a914-14451f5f7ab6",
                            "format": "uuid",
                            "type": "string"
                        },
                        "style": "simple"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "Successfully deleted a PyDSS instance",
                                            "Status": 200,
                                            "UUID": "96c21e00-cd3c-4943-a914-14451f5f7ab6"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Successfully retrieved project information"
                    },
                    "403": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "Error closing PyDSS instance",
                                            "Status": 403,
                                            "UUID": "None"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Provided path does not exist"
                    }
                },
                "summary": "Deletes an active instance of PyDSS",
                "tags": [
                    "Simulation"
                ]
            },
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "examples": {
                                "Example 1": {
                                    "value": {
                                        "cosim_uuid": "96c21e00-cd3c-4943-a914-14451f5f7ab6",
                                        "name": "PyDSS_x",
                                        "powerflow_options": {
                                            "pydss_project": "6fec60b1-f0cb-42aa-b06d-33d9d28bc36b",
                                            "sub_id": "sample_federate/bus/152/voltage/pu"
                                        },
                                        "simulation_duration": 1440.0,
                                        "simulator_time_resolution": 15,
                                        "start_datetime": "01/01/2020 00:00:00"
                                    }
                                },
                                "Example 2": {
                                    "value": {
                                        "cosim_uuid": "96c21e00-cd3c-4943-a914-14451f5f7ab6",
                                        "name": "der_fed",
                                        "powerflow_options": {
                                            "active_project": "custom_contols",
                                            "active_scenario": "base_case",
                                            "master_dss_file": "Master_Spohn_existing_VV.dss",
                                            "pydss_project": "C:/Users/KDUWADI/Box/NAERM_project/PyDSSexamples/examples"
                                        },
                                        "simulation_duration": 0.00166,
                                        "simulator_time_resolution": 0.0041664,
                                        "start_datetime": "01/01/2020 00:00:00"
                                    }
                                }
                            },
                            "schema": {
                                "properties": {
                                    "parameters": {
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    },
                    "required": false
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "Starting a PyDSS instance",
                                            "Status": 200,
                                            "UUID": "96c21e00-cd3c-4943-a914-14451f5f7ab6"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Successfully retrieved project information"
                    },
                    "500": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "Failed to create a PyDSS instance",
                                            "Status": 500,
                                            "UUID": "None"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Provided path does not exist"
                    }
                },
                "summary": "Creates an instance of PyDSS and runs the simulation",
                "tags": [
                    "Simulation"
                ]
            }
        },
        "/cosims/federates/pydss/instances": {
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "2 PyDSS instances currently running",
                                            "Status": 200,
                                            "UUID": []
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "UUIDs of all currently running PyDSS instances have been returned"
                    },
                    "204": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "No PyDSS instance currently running",
                                            "Status": 204,
                                            "UUID": [
                                                "96c21e00-cd3c-4943-a914-14451f5f7ab6",
                                                "96c21e045-cd6c-8394-a914-14451f5f7ab6"
                                            ]
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "No active PyDSS instance found"
                    }
                },
                "summary": "Returns UUIDs of all the instances currently running on the server",
                "tags": [
                    "simulation status"
                ]
            },
            "head": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "2 PyDSS instances currently running",
                                            "Status": 200,
                                            "UUID": []
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "UUIDs of all currently running PyDSS instances have been returned"
                    },
                    "204": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "No PyDSS instance currently running",
                                            "Status": 204,
                                            "UUID": [
                                                "96c21e00-cd3c-4943-a914-14451f5f7ab6",
                                                "96c21e045-cd6c-8394-a914-14451f5f7ab6"
                                            ]
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "No active PyDSS instance found"
                    }
                },
                "summary": "Returns UUIDs of all the instances currently running on the server",
                "tags": [
                    "simulation status"
                ]
            }
        },
        "/cosims/federates/pydss/status/uuid/{uuid}": {
            "get": {
                "parameters": [
                    {
                        "explode": false,
                        "in": "path",
                        "name": "uuid",
                        "required": true,
                        "schema": {
                            "example": "96c21e00-cd3c-4943-a914-14451f5f7ab6",
                            "format": "uuid",
                            "type": "string"
                        },
                        "style": "simple"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "PyDSS instance with the provided UUID is currently running",
                                            "Status": 200,
                                            "UUID": "96c21e00-cd3c-4943-a914-14451f5f7ab6"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "PyDSS instance with the provided UUID is currently running"
                    },
                    "204": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "PyDSS instance with the provided UUID does not exist",
                                            "Status": 204,
                                            "UUID": "None"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "PyDSS instance with the provided UUID does not exist"
                    }
                },
                "summary": "Returns states of process of with UUID matching the passed UUID",
                "tags": [
                    "simulation status"
                ]
            },
            "head": {
                "parameters": [
                    {
                        "explode": false,
                        "in": "path",
                        "name": "uuid",
                        "required": true,
                        "schema": {
                            "example": "96c21e00-cd3c-4943-a914-14451f5f7ab6",
                            "format": "uuid",
                            "type": "string"
                        },
                        "style": "simple"
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "PyDSS instance with the provided UUID is currently running",
                                            "Status": 200,
                                            "UUID": "96c21e00-cd3c-4943-a914-14451f5f7ab6"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "PyDSS instance with the provided UUID is currently running"
                    },
                    "204": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "get_instance_status": {
                                        "value": {
                                            "Message": "PyDSS instance with the provided UUID does not exist",
                                            "Status": 204,
                                            "UUID": "None"
                                        }
                                    }
                                },
                                "schema": {
                                    "type": "object"
                                }
                            }
                        },
                        "description": "PyDSS instance with the provided UUID does not exist"
                    }
                },
                "summary": "Returns states of process of with UUID matching the passed UUID",
                "tags": [
                    "simulation status"
                ]
            }
        }
    }
}